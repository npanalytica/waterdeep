<!--<mat-dialog-actions align="start" class="dialog-close">
	<button class="btn" mat-dialog-close>
		<i class="material-icons">close</i>
	</button>
</mat-dialog-actions>-->

<mat-toolbar color="primary" id="toolbar">
	<button mat-icon-button>
		<mat-icon>arrow_left</mat-icon>
	</button>
	<h1>Add enemies</h1>
	<div style="flex: 1 1 auto;"></div>
	<button mat-icon-button (click)="onCloseDialog()">
		<mat-icon>close</mat-icon>
	</button>
</mat-toolbar>

<mat-tab-group id="filters" [ngClass]="{'shown': showFilters}">
	<mat-tab label="Name">
		<mat-form-field class="tab-content">
			<input #needle
				autocomplete="off"
				(keyup)="filterByName(needle.value)"
				matInput placeholder="Search..."/>
		</mat-form-field>
	</mat-tab>
	<mat-tab label="Challenge">
		<div class="tab-content">
			<mat-slider
				class="slider"
				thumbLabel
				[(ngModel)]="selectedCR"
				(change)="filterByCR($event)"
				(input)="filterByCR($event)"
				[displayWith]="formatCRLabel"
				min="-1"
				[max]="33">
			</mat-slider>
		</div>
	</mat-tab>
	<mat-tab label="Type">
		<mat-form-field class="tab-content">
			<mat-select
				placeholder="Creature type..."
				(selectionChange)="filterByType($event)">
				<mat-option [value]="type" *ngFor="let type of creatureTypes">
					{{ type }}
				</mat-option>
			</mat-select>
		</mat-form-field>
	</mat-tab>
</mat-tab-group>

<div
	class="creature"
	(click)="showNPCDialog(creature)"
	*ngFor="let creature of filtered | slice:0:n_displayed_results">
	
	<span class="creature-icon">
		<img class="img" src="assets/icons/creature-types/{{ creature.type }}_color.png"/>
	</span>
	<span class="creature-name">{{ creature.name }}</span>
	<button (click)="addCreature($event, creature)"
		class="add-btn"
		mat-flat-button color="primary">
		<span>{{ getNumberInList(creature) }}</span>
	</button>
</div>
<div id="more-results" *ngIf="filtered.length > n_displayed_results" (click)="moreResults()">
	<span *ngIf="filtered.length - n_displayed_results == 1">One more result...</span>
	<span *ngIf="filtered.length - n_displayed_results > 1">{{ filtered.length - n_displayed_results }} more results...</span>
</div>